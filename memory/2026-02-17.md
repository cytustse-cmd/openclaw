# Memory - 2026-02-17 (Update 4)

## Technical Troubleshooting
- **X (Twitter) Extraction**: Attempted multiple methods to summarize X links (Direct fetch, OEmbed, Summarize skill). Confirmed that X Articles have high protection and require a logged-in browser or specific tools.
- **Environment Setup**: Successfully installed the `summarize` CLI via Homebrew on the local node. Also installed the `pypdf` Python library to enable manual PDF text extraction when other tools fail.
- **Context Alert (Critical)**: Context usage spiked to **285%** (569k tokens) following the successful extraction of a large PDF file. Emergency backup was triggered and stored in `backups/2026.02.17_11:33`.

## Knowledge Acquisition
- **Cost Optimization Guide**: Successfully extracted content from an article titled "How to Reduce OpenClaw Model Costs by up to 90%". Key takeaways involve:
    - **Intelligent Routing**: Matching task complexity to model cost (e.g., using Gemini Flash for routine tasks and Opus only for complex reasoning).
    - **Prompt Caching**: Using `cacheRetention` to reuse static system prompts (SOUL/AGENTS/MEMORY) and save up to 90% on repeated calls.
    - **ClawRouter**: Identified as a trending native skill for automatic model routing.
    - **Local Models**: Using Ollama (e.g., Qwen 3 32B) for high-volume, low-complexity tasks to achieve zero marginal cost.

## System Optimization & Recovery (Update 5)
- **Compaction Mode**: Changed from `safeguard` to `default` to enable proactive context management and prevent overflow during heavy tasks.
- **Model Strategy Updated**: 
    - **Primary**: Switched to `google/gemini-3-flash-preview` for routine tasks (cost-efficient/fast).
    - **Fallback**: Retained `google-antigravity/claude-opus-4-6-thinking` as the primary fallback and for complex reasoning.
- **Cron Job Fix**: Updated "Context Watcher" to use Gemini Flash, resolving a `thinking.signature` error caused by the thinking model in isolated sessions.
- **Identity Restoration**: Successfully restored `MEMORY.md`, `IDENTITY.md`, and `USER.md` from GitHub snapshot backups after an onboard reset wiped local templates.
- **Backup Snapshot**: Triggered a full snapshot and GitHub push (`backups/2026.02.17_13:08`) to lock in the new configuration.
